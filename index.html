<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>üé® –•–æ–ª—Å—Ç —Ö—É–¥–æ–∂–Ω–∏–∫–∞</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body { background: #111; font-family: Arial, sans-serif; color: white; overflow: hidden; height: 100vh; }
    #ui {
      position: fixed; top: 0; left: 0; right: 0;
      background: rgba(0,0,0,0.85); padding: 10px 20px;
      display: flex; align-items: center; gap: 16px; z-index: 10;
    }
    #room-code { font-size: 22px; font-weight: bold; letter-spacing: 5px; color: #ffd700; }
    #status { font-size: 13px; padding: 4px 12px; border-radius: 20px; background: rgba(255,200,0,0.2); color: #ffd700; }
    #status.connected { background: rgba(0,200,100,0.2); color: #0f0; }
    #clear-btn {
      margin-left: auto; background: rgba(255,50,50,0.3);
      border: 1px solid rgba(255,50,50,0.5); color: white;
      padding: 5px 14px; border-radius: 20px; cursor: pointer; font-size: 14px;
    }
    #canvas-wrap { position: absolute; top: 50px; left: 0; right: 0; bottom: 0; }
    canvas#c { display: block; width: 100%; height: 100%; }
    #brush {
      position: fixed; border-radius: 50%; pointer-events: none;
      transform: translate(-50%, -50%); border: 3px solid #333;
      z-index: 5;
    }
    #overlay {
      position: fixed; inset: 0; background: rgba(0,0,0,0.92);
      display: flex; flex-direction: column; align-items: center; justify-content: center;
      z-index: 100; gap: 10px;
    }
    #overlay h2 { font-size: 28px; }
    #overlay p { color: #aaa; font-size: 15px; }
    #code-big { font-size: 56px; font-weight: bold; letter-spacing: 14px; color: #ffd700; margin: 6px 0; }
    #qr-img { border-radius: 12px; }
    #phone-url {
      font-size: 13px; color: #6af; max-width: 600px; text-align: center;
      word-break: break-all; background: rgba(255,255,255,0.05);
      padding: 8px 14px; border-radius: 8px;
    }
    #debug { font-size: 11px; color: #555; margin-top: 4px; }
    @keyframes pulse { 0%,100%{opacity:1} 50%{opacity:.3} }
    #wait { animation: pulse 1.5s infinite; color: #666; font-size: 13px; }
  </style>
</head>
<body>

<div id="ui">
  <span>üé® –•–æ–ª—Å—Ç</span>
  <div id="room-code">‚Äî</div>
  <div id="status">‚è≥ –û–∂–∏–¥–∞–Ω–∏–µ</div>
  <button id="clear-btn">üóë –û—á–∏—Å—Ç–∏—Ç—å</button>
</div>

<div id="canvas-wrap"><canvas id="
